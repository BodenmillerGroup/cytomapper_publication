<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Nicolas Damond" />

<meta name="date" content="2020-07-09" />

<title>Load example images</title>

<script src="site_libs/header-attrs-2.2/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">cytomapper_publication</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Introduction</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Pre-pocessing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01-LoadPancreasData.html">Load Pancreas Data</a>
    </li>
    <li>
      <a href="02-LoadPancreasImages.html">Load Pancreas Images</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Figures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="03-Figure_1.html">Figure 1</a>
    </li>
    <li>
      <a href="03-Figure_2.html">Figure 2</a>
    </li>
    <li>
      <a href="03-Figure_3.html">Figure 3</a>
    </li>
    <li>
      <a href="03-Figure_4.html">Figure 4</a>
    </li>
    <li>
      <a href="03-Figure_5.html">Figure 5</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Load example images</h1>
<h4 class="author">Nicolas Damond</h4>
<h4 class="date">2020-07-09</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span> workflowr <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2020-07-09
</p>
<p>
<strong>Checks:</strong> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 6 <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> 1
</p>
<p>
<strong>Knit directory:</strong> <code>cytomapper_publication/</code> <span class="glyphicon glyphicon-question-sign" aria-hidden="true" title="This is the local directory in which the code in this file was executed."> </span>
</p>
<p>
This reproducible <a href="http://rmarkdown.rstudio.com">R Markdown</a> analysis was created with <a
  href="https://github.com/jdblischak/workflowr">workflowr</a> (version 1.6.2). The <em>Checks</em> tab describes the reproducibility checks that were applied when the results were created. The <em>Past versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguncommittedchanges"> <span class="glyphicon glyphicon-exclamation-sign text-danger" aria-hidden="true"></span> <strong>R Markdown file:</strong> uncommitted changes </a>
</p>
</div>
<div id="strongRMarkdownfilestronguncommittedchanges" class="panel-collapse collapse">
<div class="panel-body">
<p>The R Markdown file has unstaged changes. To know which version of the R Markdown file created these results, you’ll want to first commit it to the Git repo. If you’re still working on the analysis, you can ignore this warning. When you’re finished, you can run <code>wflow_publish</code> to commit the R Markdown file and build the HTML.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the global environment can affect the analysis in your R Markdown file in unknown ways. For reproduciblity it’s best to always run the code in an empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20200602code"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Seed:</strong> <code>set.seed(20200602)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20200602code" class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20200602)</code> was run prior to running the code in the R Markdown file. Setting a seed ensures that any results that rely on randomness, e.g. subsampling or permutations, are reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Session information:</strong> recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be confident that you successfully produced the results during this run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomBodenmillerGroupcytomapperpublicationtree86ddc2d9c035a1f8584f561c900702f3b62560edtargetblank86ddc2da"> <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> <strong>Repository version:</strong> <a href="https://github.com/BodenmillerGroup/cytomapper_publication/tree/86ddc2d9c035a1f8584f561c900702f3b62560ed" target="_blank">86ddc2d</a> </a>
</p>
</div>
<div id="strongRepositoryversionstrongahrefhttpsgithubcomBodenmillerGroupcytomapperpublicationtree86ddc2d9c035a1f8584f561c900702f3b62560edtargetblank86ddc2da" class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development and connecting the code version to the results is critical for reproducibility.
</p>
<p>
The results in this page were generated with repository version <a href="https://github.com/BodenmillerGroup/cytomapper_publication/tree/86ddc2d9c035a1f8584f561c900702f3b62560ed" target="_blank">86ddc2d</a>. See the <em>Past versions</em> tab to see a history of the changes made to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for the analysis have been committed to Git prior to generating the results (you can use <code>wflow_publish</code> or <code>wflow_git_commit</code>). workflowr only checks the R Markdown file, but you know if there are other scripts or data files that it depends on. Below is the status of the Git repository when the results were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .DS_Store
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    analysis/.DS_Store
    Ignored:    data/PancreasData/.DS_Store
    Ignored:    data/PancreasData/pancreas_images.rds
    Ignored:    data/PancreasData/pancreas_masks.rds
    Ignored:    data/PancreasData/pancreas_sce.rds

Unstaged changes:
    Modified:   analysis/02-LoadPancreasImages.Rmd
    Modified:   analysis/03-Figure_1.Rmd

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not included in this status report because it is ok for generated content to have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were made to the R Markdown (<code>analysis/02-LoadPancreasImages.Rmd</code>) and HTML (<code>docs/02-LoadPancreasImages.html</code>) files. If you’ve configured a remote Git repository (see <code>?wflow_git_remote</code>), click on the hyperlinks in the table below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/BodenmillerGroup/cytomapper_publication/blob/9b3076b58d8b2916c27af412f4a1a0d12e559bc3/analysis/02-LoadPancreasImages.Rmd" target="_blank">9b3076b</a>
</td>
<td>
nilseling
</td>
<td>
2020-07-09
</td>
<td>
Added more comments
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/BodenmillerGroup/cytomapper_publication/5476a61faf288fd91c0e0c72e9a201284d267095/docs/02-LoadPancreasImages.html" target="_blank">5476a61</a>
</td>
<td>
nilseling
</td>
<td>
2020-07-08
</td>
<td>
Recompiled files
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/BodenmillerGroup/cytomapper_publication/blob/cb92024e7de0d35fc5313c4a227d8fb1daa5f903/analysis/02-LoadPancreasImages.Rmd" target="_blank">cb92024</a>
</td>
<td>
nilseling
</td>
<td>
2020-07-03
</td>
<td>
Finalized Figure 4
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/BodenmillerGroup/cytomapper_publication/2fbf302fec4a78876f23673970f0f5c488672ff2/docs/02-LoadPancreasImages.html" target="_blank">2fbf302</a>
</td>
<td>
nilseling
</td>
<td>
2020-06-02
</td>
<td>
Re-compiled htmls
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/BodenmillerGroup/cytomapper_publication/blob/199039832296921adb1cd7a6c04ab8159e688bd4/analysis/02-LoadPancreasImages.Rmd" target="_blank">1990398</a>
</td>
<td>
nilseling
</td>
<td>
2020-06-02
</td>
<td>
First figures
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/BodenmillerGroup/cytomapper_publication/blob/7960caa424bb48fca82d9eb98b3d406ab6959957/analysis/02-LoadPancreasImages.Rmd" target="_blank">7960caa</a>
</td>
<td>
nilseling
</td>
<td>
2020-06-02
</td>
<td>
Compiled htmls of preprocessing steps
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/BodenmillerGroup/cytomapper_publication/7960caa424bb48fca82d9eb98b3d406ab6959957/docs/02-LoadPancreasImages.html" target="_blank">7960caa</a>
</td>
<td>
nilseling
</td>
<td>
2020-06-02
</td>
<td>
Compiled htmls of preprocessing steps
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/BodenmillerGroup/cytomapper_publication/blob/cddc96827a69d170e990784d43b626f6ff3458ad/analysis/02-LoadPancreasImages.Rmd" target="_blank">cddc968</a>
</td>
<td>
nilseling
</td>
<td>
2020-06-02
</td>
<td>
Chenged header
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/BodenmillerGroup/cytomapper_publication/blob/c68803c239b94766f0277a9d8a7a1005cbe6087e/analysis/02-LoadPancreasImages.Rmd" target="_blank">c68803c</a>
</td>
<td>
nilseling
</td>
<td>
2020-06-02
</td>
<td>
Restructured to workflowr poject
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<p>This script downloads 100 example images and masks form the pancreas IMC dataset available <a href="http://dx.doi.org/10.17632/cydmwsfztj.2">here</a>. The dataset is associated to the following publication:</p>
<p><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6821395">Damond et al. A Map of Human Type 1 Diabetes Progression by Imaging Mass Cytometry. Cell Metabolism. 2019 Mar 5;29(3):755-768</a></p>
<p>The images and masks have been created using the <a href="https://github.com/BodenmillerGroup/imctools">imctools</a> package and the <a href="https://github.com/BodenmillerGroup/ImcSegmentationPipeline">IMC segmentation pipeline</a>. We will use the <a href="https://www.bioconductor.org/packages/release/bioc/html/cytomapper.html">cytomapper</a> package to read in the images and create <code>CytoImageList</code> objects.</p>
<div id="download-and-read-in-images" class="section level1">
<h1>Download and read-in images</h1>
<p>Here, a subset of 100 images from the pancreas IMC dataset is downloaded. We use the <code>loadImages</code> function of the <code>cytomapper</code> package to read them into a <code>CytoImageList</code> object.</p>
<pre class="r"><code>library(cytomapper)

# Download the zipped folder image and unzip it
url.images &lt;- (&quot;https://data.mendeley.com/datasets/cydmwsfztj/2/files/b37054d2-d5d0-4c48-a001-81ff77136f41/ImageSubset.zip?dl=1&quot;)
download.file(url.images, destfile = &quot;data/PancreasData/ImageSubset.zip&quot;)
unzip(&quot;data/PancreasData/ImageSubset.zip&quot;, exdir = &quot;data/PancreasData/&quot;)
file.remove(&quot;data/PancreasData/ImageSubset.zip&quot;)</code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="r"><code># Load the images as a CytoImageList object
images &lt;- loadImages(&quot;data/PancreasData/&quot;, pattern=&quot;_full_clean.tiff&quot;)
images</code></pre>
<pre><code>CytoImageList containing 100 image(s)
names(100): E02_a0_full_clean E03_a0_full_clean E04_a0_full_clean E05_a0_full_clean E06_a0_full_clean E07_a0_full_clean E08_a0_full_clean E09_a0_full_clean E10_a0_full_clean E11_a0_full_clean E12_a0_full_clean E13_a0_full_clean E14_a0_full_clean E15_a0_full_clean E16_a0_full_clean E17_a0_full_clean E18_a0_full_clean E19_a0_full_clean E20_a0_full_clean E21_a0_full_clean E22_a0_full_clean E23_a0_full_clean E24_a0_full_clean E25_a0_full_clean E26_a0_full_clean E27_a0_full_clean E28_a0_full_clean E29_a0_full_clean E30_a0_full_clean E31_a0_full_clean E32_a0_full_clean E33_a0_full_clean E34_a0_full_clean G01_a0_full_clean G02_a0_full_clean G03_a0_full_clean G04_a0_full_clean G05_a0_full_clean G06_a0_full_clean G07_a0_full_clean G08_a0_full_clean G09_a0_full_clean G10_a0_full_clean G11_a0_full_clean G12_a0_full_clean G13_a0_full_clean G14_a0_full_clean G15_a0_full_clean G16_a0_full_clean G17_a0_full_clean G18_a0_full_clean G19_a0_full_clean G20_a0_full_clean G21_a0_full_clean G22_a0_full_clean G23_a0_full_clean G24_a0_full_clean G25_a0_full_clean G26_a0_full_clean G27_a0_full_clean G28_a0_full_clean G29_a0_full_clean G30_a0_full_clean G31_a0_full_clean G32_a0_full_clean G33_a0_full_clean J01_a0_full_clean J02_a0_full_clean J03_a0_full_clean J04_a0_full_clean J05_a0_full_clean J06_a0_full_clean J07_a0_full_clean J08_a0_full_clean J09_a0_full_clean J10_a0_full_clean J11_a0_full_clean J12_a0_full_clean J13_a0_full_clean J14_a0_full_clean J15_a0_full_clean J16_a0_full_clean J17_a0_full_clean J18_a0_full_clean J19_a0_full_clean J20_a0_full_clean J21_a0_full_clean J22_a0_full_clean J23_a0_full_clean J24_a0_full_clean J25_a0_full_clean J26_a0_full_clean J27_a0_full_clean J28_a0_full_clean J29_a0_full_clean J30_a0_full_clean J31_a0_full_clean J32_a0_full_clean J33_a0_full_clean J34_a0_full_clean 
Each image contains 38 channel(s)</code></pre>
<p>We also download the associated segemntation masks and read them into a <code>CytoImageList</code> object.</p>
<pre class="r"><code># Download the zipped folder masks and unzip it
url.masks &lt;- (&quot;https://data.mendeley.com/datasets/cydmwsfztj/2/files/13679a61-e9b4-4820-9f09-a5bbc697647c/Masks.zip?dl=1&quot;)
download.file(url.masks, destfile = &quot;data/PancreasData/Masks.zip&quot;)
unzip(&quot;data/PancreasData/Masks.zip&quot;, exdir = &quot;data/PancreasData/&quot;)
file.remove(&quot;data/PancreasData/Masks.zip&quot;)</code></pre>
<pre><code>[1] TRUE</code></pre>
<pre class="r"><code># Load the images as a CytoImageList object
masks &lt;- loadImages(&quot;data/PancreasData/&quot;, pattern=&quot;_full_mask.tiff&quot;)
masks</code></pre>
<pre><code>CytoImageList containing 845 image(s)
names(845): A01_a0_full_mask A02_a0_full_mask A03_a0_full_mask A04_a0_full_mask A05_a0_full_mask A06_a0_full_mask A07_a0_full_mask A08_a0_full_mask A09_a0_full_mask A10_a0_full_mask A11_a0_full_mask A12_a0_full_mask A13_a0_full_mask A14_a0_full_mask A15_a0_full_mask A16_a0_full_mask A17_a0_full_mask A18_a0_full_mask A19_a0_full_mask A20_a0_full_mask A21_a0_full_mask A22_a0_full_mask A23_a0_full_mask A24_a0_full_mask A25_a0_full_mask A27_a0_full_mask A30_a0_full_mask A31_a0_full_mask A32_a0_full_mask A34_a0_full_mask A35_a0_full_mask A36_a0_full_mask A37_a0_full_mask A38_a0_full_mask A39_a0_full_mask A40_a0_full_mask B01_a0_full_mask B02_a0_full_mask B03_a0_full_mask B04_a0_full_mask B05_a0_full_mask B06_a0_full_mask B07_a0_full_mask B08_a0_full_mask B09_a0_full_mask B10_a0_full_mask B11_a0_full_mask B12_a0_full_mask B13_a0_full_mask B14_a0_full_mask B15_a0_full_mask B16_a0_full_mask B17_a0_full_mask B18_a0_full_mask B19_a0_full_mask B20_a0_full_mask B21_a0_full_mask B22_a0_full_mask B23_a0_full_mask B24_a0_full_mask B25_a0_full_mask B27_a0_full_mask B28_a0_full_mask B29_a0_full_mask B30_a0_full_mask B31_a0_full_mask B32_a0_full_mask C01_a0_full_mask C02_a0_full_mask C03_a0_full_mask C04_a0_full_mask C05_a0_full_mask C06_a0_full_mask C07_a0_full_mask C08_a0_full_mask C09_a0_full_mask C10_a0_full_mask C11_a0_full_mask C12_a0_full_mask C13_a0_full_mask C14_a0_full_mask C15_a0_full_mask C16_a0_full_mask C17_a0_full_mask C18_a0_full_mask C19_a0_full_mask C20_a0_full_mask C21_a0_full_mask C22_a0_full_mask C23_a0_full_mask C24_a0_full_mask C25_a0_full_mask C26_a0_full_mask C27_a0_full_mask C28_a0_full_mask C29_a0_full_mask C30_a0_full_mask C31_a0_full_mask C32_a0_full_mask C33_a0_full_mask C34_a0_full_mask D01_a0_full_mask D02_a0_full_mask D03_a0_full_mask D04_a0_full_mask D05_a0_full_mask D06_a0_full_mask D07_a0_full_mask D08_a0_full_mask D09_a0_full_mask D10_a0_full_mask D11_a0_full_mask D12_a0_full_mask D13_a0_full_mask D14_a0_full_mask D15_a0_full_mask D16_a0_full_mask D17_a0_full_mask D18_a0_full_mask D19_a0_full_mask D20_a0_full_mask D21_a0_full_mask D22_a0_full_mask D23_a0_full_mask D24_a0_full_mask D25_a0_full_mask D26_a0_full_mask D27_a0_full_mask D28_a0_full_mask D29_a0_full_mask D30_a0_full_mask D31_a0_full_mask D32_a0_full_mask D33_a0_full_mask D34_a0_full_mask D35_a0_full_mask D36_a0_full_mask E02_a0_full_mask E03_a0_full_mask E04_a0_full_mask E05_a0_full_mask E06_a0_full_mask E07_a0_full_mask E08_a0_full_mask E09_a0_full_mask E10_a0_full_mask E11_a0_full_mask E12_a0_full_mask E13_a0_full_mask E14_a0_full_mask E15_a0_full_mask E16_a0_full_mask E17_a0_full_mask E18_a0_full_mask E19_a0_full_mask E20_a0_full_mask E21_a0_full_mask E22_a0_full_mask E23_a0_full_mask E24_a0_full_mask E25_a0_full_mask E26_a0_full_mask E27_a0_full_mask E28_a0_full_mask E29_a0_full_mask E30_a0_full_mask E31_a0_full_mask E32_a0_full_mask E33_a0_full_mask E34_a0_full_mask E35_a0_full_mask E36_a0_full_mask E37_a0_full_mask E38_a0_full_mask E39_a0_full_mask E40_a0_full_mask E41_a0_full_mask E42_a0_full_mask F01_a0_full_mask F02_a0_full_mask F03_a0_full_mask F04_a0_full_mask F05_a0_full_mask F06_a0_full_mask F07_a0_full_mask F08_a0_full_mask F09_a0_full_mask F10_a0_full_mask F11_a0_full_mask F12_a0_full_mask F13_a0_full_mask F14_a0_full_mask F15_a0_full_mask F16_a0_full_mask F17_a0_full_mask F18_a0_full_mask F19_a0_full_mask F20_a0_full_mask F21_a0_full_mask F22_a0_full_mask F23_a0_full_mask F24_a0_full_mask F25_a0_full_mask F26_a0_full_mask G01_a0_full_mask G02_a0_full_mask G03_a0_full_mask G04_a0_full_mask G05_a0_full_mask G06_a0_full_mask G07_a0_full_mask G08_a0_full_mask G09_a0_full_mask G10_a0_full_mask G11_a0_full_mask G12_a0_full_mask G13_a0_full_mask G14_a0_full_mask G15_a0_full_mask G16_a0_full_mask G17_a0_full_mask G18_a0_full_mask G19_a0_full_mask G20_a0_full_mask G21_a0_full_mask G22_a0_full_mask G23_a0_full_mask G24_a0_full_mask G25_a0_full_mask G26_a0_full_mask G27_a0_full_mask G28_a0_full_mask G29_a0_full_mask G30_a0_full_mask G31_a0_full_mask G32_a0_full_mask G33_a0_full_mask G34_a0_full_mask G35_a0_full_mask G36_a0_full_mask H01_a0_full_mask H02_a0_full_mask H03_a0_full_mask H04_a0_full_mask H05_a0_full_mask H06_a0_full_mask H07_a0_full_mask H08_a0_full_mask H09_a0_full_mask H10_a0_full_mask H11_a0_full_mask H12_a0_full_mask H13_a0_full_mask H14_a0_full_mask H15_a0_full_mask H16_a0_full_mask H17_a0_full_mask H18_a0_full_mask H19_a0_full_mask H20_a0_full_mask H21_a0_full_mask H22_a0_full_mask H23_a0_full_mask H24_a0_full_mask H25_a0_full_mask H26_a0_full_mask H27_a0_full_mask H28_a0_full_mask H29_a0_full_mask H30_a0_full_mask H31_a0_full_mask H32_a0_full_mask H33_a0_full_mask H34_a0_full_mask H35_a0_full_mask H36_a0_full_mask H37_a0_full_mask H38_a0_full_mask H39_a0_full_mask H40_a0_full_mask H41_a0_full_mask H42_a0_full_mask H43_a0_full_mask H44_a0_full_mask H45_a0_full_mask J01_a0_full_mask J02_a0_full_mask J03_a0_full_mask J04_a0_full_mask J05_a0_full_mask J06_a0_full_mask J07_a0_full_mask J08_a0_full_mask J09_a0_full_mask J10_a0_full_mask J11_a0_full_mask J12_a0_full_mask J13_a0_full_mask J14_a0_full_mask J15_a0_full_mask J16_a0_full_mask J17_a0_full_mask J18_a0_full_mask J19_a0_full_mask J20_a0_full_mask J21_a0_full_mask J22_a0_full_mask J23_a0_full_mask J24_a0_full_mask J25_a0_full_mask J26_a0_full_mask J27_a0_full_mask J28_a0_full_mask J29_a0_full_mask J30_a0_full_mask J31_a0_full_mask J32_a0_full_mask J33_a0_full_mask J34_a0_full_mask J35_a0_full_mask J36_a0_full_mask K01_a0_full_mask K02_a0_full_mask K03_a0_full_mask K04_a0_full_mask K05_a0_full_mask K06_a0_full_mask K07_a0_full_mask K08_a0_full_mask K09_a0_full_mask K10_a0_full_mask K11_a0_full_mask K12_a0_full_mask K13_a0_full_mask K14_a0_full_mask K15_a0_full_mask K16_a0_full_mask K17_a0_full_mask K18_a0_full_mask K19_a0_full_mask K20_a0_full_mask K21_a0_full_mask K22_a0_full_mask K23_a0_full_mask K24_a0_full_mask K25_a0_full_mask K26_a0_full_mask K27_a0_full_mask K28_a0_full_mask K29_a0_full_mask K30_a0_full_mask K31_a0_full_mask K32_a0_full_mask K33_a0_full_mask K34_a0_full_mask K35_a0_full_mask K36_a0_full_mask L01_a0_full_mask L02_a0_full_mask L03_a0_full_mask L04_a0_full_mask L05_a0_full_mask L06_a0_full_mask L07_a0_full_mask L08_a0_full_mask L09_a0_full_mask L10_a0_full_mask L11_a0_full_mask L12_a0_full_mask L13_a0_full_mask L14_a0_full_mask L15_a0_full_mask L16_a0_full_mask L17_a0_full_mask L18_a0_full_mask L19_a0_full_mask L20_a0_full_mask L21_a0_full_mask L22_a0_full_mask L23_a0_full_mask L24_a0_full_mask L25_a0_full_mask L26_a0_full_mask L27_a0_full_mask L28_a0_full_mask L29_a0_full_mask L30_a0_full_mask L31_a0_full_mask L32_a0_full_mask L33_a0_full_mask L34_a0_full_mask L35_a0_full_mask L36_a0_full_mask M01_a0_full_mask M02_a0_full_mask M03_a0_full_mask M04_a0_full_mask M05_a0_full_mask M06_a0_full_mask M07_a0_full_mask M08_a0_full_mask M09_a0_full_mask M10_a0_full_mask M11_a0_full_mask M12_a0_full_mask M13_a0_full_mask M14_a0_full_mask M15_a0_full_mask M16_a0_full_mask M17_a0_full_mask M18_a0_full_mask M19_a0_full_mask M20_a0_full_mask M21_a0_full_mask M22_a0_full_mask M23_a0_full_mask M24_a0_full_mask M25_a0_full_mask M26_a0_full_mask M27_a0_full_mask M28_a0_full_mask M29_a0_full_mask M30_a0_full_mask M31_a0_full_mask M32_a0_full_mask M33_a0_full_mask M34_a0_full_mask M35_a0_full_mask M36_a0_full_mask N25_a0_full_mask N26_a0_full_mask N27_a0_full_mask N28_a0_full_mask N29_a0_full_mask N30_a0_full_mask N31_a0_full_mask N32_a0_full_mask N33_a0_full_mask N34_a0_full_mask N35_a0_full_mask N36_a0_full_mask N37_a0_full_mask N38_a0_full_mask N39_a0_full_mask N40_a0_full_mask N41_a0_full_mask N42_a0_full_mask N43_a0_full_mask N44_a0_full_mask N45_a0_full_mask N46_a0_full_mask N47_a0_full_mask N48_a0_full_mask N49_a0_full_mask N50_a0_full_mask N51_a0_full_mask N52_a0_full_mask N53_a0_full_mask N54_a0_full_mask N55_a0_full_mask N56_a0_full_mask N57_a0_full_mask N58_a0_full_mask N59_a0_full_mask N60_a0_full_mask O01_a0_full_mask O02_a0_full_mask O03_a0_full_mask O04_a0_full_mask O05_a0_full_mask O06_a0_full_mask O07_a0_full_mask O08_a0_full_mask O09_a0_full_mask O10_a0_full_mask O11_a0_full_mask O12_a0_full_mask O13_a0_full_mask O14_a0_full_mask O15_a0_full_mask O16_a0_full_mask O17_a0_full_mask O18_a0_full_mask O19_a0_full_mask O20_a0_full_mask O21_a0_full_mask O22_a0_full_mask O23_a0_full_mask O24_a0_full_mask O25_a0_full_mask O26_a0_full_mask O27_a0_full_mask O28_a0_full_mask O29_a0_full_mask O30_a0_full_mask O31_a0_full_mask O32_a0_full_mask O33_a0_full_mask O34_a0_full_mask O35_a0_full_mask O36_a0_full_mask P05_a0_full_mask P07_a0_full_mask P09_a0_full_mask P15_a0_full_mask P17_a0_full_mask P18_a0_full_mask P21_a0_full_mask P23_a0_full_mask P25_a0_full_mask P28_a0_full_mask P30_a0_full_mask P31_a0_full_mask P32_a0_full_mask P33_a0_full_mask P34_a0_full_mask P35_a0_full_mask P36_a0_full_mask P37_a0_full_mask P38_a0_full_mask P39_a0_full_mask P40_a0_full_mask P41_a0_full_mask P42_a0_full_mask P43_a0_full_mask P44_a0_full_mask P45_a0_full_mask P46_a0_full_mask P47_a0_full_mask P48_a0_full_mask P49_a0_full_mask Q01_a0_full_mask Q02_a0_full_mask Q03_a0_full_mask Q04_a0_full_mask Q05_a0_full_mask Q06_a0_full_mask Q07_a0_full_mask Q08_a0_full_mask Q09_a0_full_mask Q10_a0_full_mask Q11_a0_full_mask Q12_a0_full_mask Q13_a0_full_mask Q14_a0_full_mask Q15_a0_full_mask Q16_a0_full_mask Q17_a0_full_mask Q18_a0_full_mask Q19_a0_full_mask Q20_a0_full_mask Q21_a0_full_mask Q22_a0_full_mask Q23_a0_full_mask Q24_a0_full_mask Q25_a0_full_mask Q26_a0_full_mask Q27_a0_full_mask Q28_a0_full_mask Q29_a0_full_mask Q31_a0_full_mask Q32_a0_full_mask Q33_a0_full_mask Q34_a0_full_mask Q35_a0_full_mask Q36_a0_full_mask R01_a0_full_mask R02_a0_full_mask R03_a0_full_mask R04_a0_full_mask R05_a0_full_mask R06_a0_full_mask R07_a0_full_mask R08_a0_full_mask R09_a0_full_mask R10_a0_full_mask R11_a0_full_mask R12_a0_full_mask R13_a0_full_mask R14_a0_full_mask R15_a0_full_mask R16_a0_full_mask R17_a0_full_mask R18_a0_full_mask R19_a0_full_mask R20_a0_full_mask R21_a0_full_mask R22_a0_full_mask R23_a0_full_mask R24_a0_full_mask R25_a0_full_mask R26_a0_full_mask R27_a0_full_mask R28_a0_full_mask R29_a0_full_mask R30_a0_full_mask R31_a0_full_mask R32_a0_full_mask R33_a0_full_mask R34_a0_full_mask R35_a0_full_mask R36_a0_full_mask S01_a0_full_mask S02_a0_full_mask S03_a0_full_mask S04_a0_full_mask S05_a0_full_mask S06_a0_full_mask S07_a0_full_mask S08_a0_full_mask S09_a0_full_mask S10_a0_full_mask S11_a0_full_mask S12_a0_full_mask S13_a0_full_mask S14_a0_full_mask S15_a0_full_mask S16_a0_full_mask S17_a0_full_mask S18_a0_full_mask S19_a0_full_mask S20_a0_full_mask S21_a0_full_mask S22_a0_full_mask S23_a0_full_mask S25_a0_full_mask S26_a0_full_mask S27_a0_full_mask S28_a0_full_mask S29_a0_full_mask S30_a0_full_mask S31_a0_full_mask S32_a0_full_mask S33_a0_full_mask S34_a0_full_mask S35_a0_full_mask S36_a0_full_mask T05_a0_full_mask T06_a0_full_mask T08_a0_full_mask T09_a0_full_mask T10_a0_full_mask T11_a0_full_mask T12_a0_full_mask T13_a0_full_mask T14_a0_full_mask T15_a0_full_mask T16_a0_full_mask T17_a0_full_mask T18_a0_full_mask T19_a0_full_mask T20_a0_full_mask T21_a0_full_mask T22_a0_full_mask T23_a0_full_mask T24_a0_full_mask T25_a0_full_mask T26_a0_full_mask T27_a0_full_mask T28_a0_full_mask T29_a0_full_mask T30_a0_full_mask T31_a0_full_mask T32_a0_full_mask T33_a0_full_mask T34_a0_full_mask T35_a0_full_mask T36_a0_full_mask T37_a0_full_mask T38_a0_full_mask T39_a0_full_mask T40_a0_full_mask U02_a0_full_mask U03_a0_full_mask U04_a0_full_mask U10_a0_full_mask U11_a0_full_mask U12_a0_full_mask U13_a0_full_mask U14_a0_full_mask U15_a0_full_mask U16_a0_full_mask U22_a0_full_mask U27_a0_full_mask U28_a0_full_mask U29_a0_full_mask U30_a0_full_mask U32_a0_full_mask U33_a0_full_mask U34_a0_full_mask U35_a0_full_mask U36_a0_full_mask U37_a0_full_mask U38_a0_full_mask U39_a0_full_mask U40_a0_full_mask U41_a0_full_mask U42_a0_full_mask U43_a0_full_mask U44_a0_full_mask U45_a0_full_mask U46_a0_full_mask U47_a0_full_mask U48_a0_full_mask U50_a0_full_mask U51_a0_full_mask U52_a0_full_mask V01_a0_full_mask V02_a0_full_mask V03_a0_full_mask V04_a0_full_mask V05_a0_full_mask V06_a0_full_mask V07_a0_full_mask V08_a0_full_mask V09_a0_full_mask V10_a0_full_mask V11_a0_full_mask V12_a0_full_mask V13_a0_full_mask V14_a0_full_mask V15_a0_full_mask V16_a0_full_mask V17_a0_full_mask V18_a0_full_mask V19_a0_full_mask V20_a0_full_mask V21_a0_full_mask V22_a0_full_mask V23_a0_full_mask V24_a0_full_mask V25_a0_full_mask V26_a0_full_mask V27_a0_full_mask V28_a0_full_mask V29_a0_full_mask V30_a0_full_mask V31_a0_full_mask V32_a0_full_mask V33_a0_full_mask V34_a0_full_mask V35_a0_full_mask V36_a0_full_mask W01_a0_full_mask W02_a0_full_mask W03_a0_full_mask W04_a0_full_mask W05_a0_full_mask W06_a0_full_mask W07_a0_full_mask W08_a0_full_mask W09_a0_full_mask W10_a0_full_mask W11_a0_full_mask W12_a0_full_mask W13_a0_full_mask W14_a0_full_mask W15_a0_full_mask W16_a0_full_mask W17_a0_full_mask W18_a0_full_mask W19_a0_full_mask W20_a0_full_mask W21_a0_full_mask W22_a0_full_mask W23_a0_full_mask W24_a0_full_mask W25_a0_full_mask W26_a0_full_mask W27_a0_full_mask W28_a0_full_mask W29_a0_full_mask W31_a0_full_mask W32_a0_full_mask W33_a0_full_mask W34_a0_full_mask W35_a0_full_mask W36_a0_full_mask W37_a0_full_mask W38_a0_full_mask W39_a0_full_mask X01_a0_full_mask X02_a0_full_mask X03_a0_full_mask X04_a0_full_mask X05_a0_full_mask X06_a0_full_mask X07_a0_full_mask X08_a0_full_mask X09_a0_full_mask X10_a0_full_mask X11_a0_full_mask X12_a0_full_mask X13_a0_full_mask X14_a0_full_mask X15_a0_full_mask X16_a0_full_mask X17_a0_full_mask X18_a0_full_mask X19_a0_full_mask X20_a0_full_mask X21_a0_full_mask X22_a0_full_mask X23_a0_full_mask X24_a0_full_mask X26_a0_full_mask X27_a0_full_mask X28_a0_full_mask X29_a0_full_mask X30_a0_full_mask X31_a0_full_mask X32_a0_full_mask X34_a0_full_mask X35_a0_full_mask X36_a0_full_mask Y01_a0_full_mask Y02_a0_full_mask Y03_a0_full_mask Y04_a0_full_mask Y05_a0_full_mask Y06_a0_full_mask Y07_a0_full_mask Y08_a0_full_mask Y09_a0_full_mask Y10_a0_full_mask Y11_a0_full_mask Y12_a0_full_mask Y14_a0_full_mask Y15_a0_full_mask Y16_a0_full_mask Y17_a0_full_mask Y18_a0_full_mask Y19_a0_full_mask Y20_a0_full_mask Y21_a0_full_mask Y22_a0_full_mask Y23_a0_full_mask Y24_a0_full_mask Y25_a0_full_mask Y26_a0_full_mask Y27_a0_full_mask Y28_a0_full_mask Y29_a0_full_mask Y30_a0_full_mask Y31_a0_full_mask 
Each image contains 1 channel</code></pre>
<p>Here, we remove the downloaded images again.</p>
<pre class="r"><code># Remove image stacks
images.del &lt;- list.files(&quot;data/PancreasData/&quot;, pattern=&quot;_full_clean.tiff&quot;, full.names = TRUE)
file.remove(images.del)</code></pre>
<pre><code>  [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [76] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [91] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<pre class="r"><code># Remove masks
masks.del &lt;- list.files(&quot;data/PancreasData/&quot;, pattern=&quot;_full_mask.tiff&quot;, full.names = TRUE)
file.remove(masks.del)</code></pre>
<pre><code>  [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [61] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [76] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
 [91] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[106] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[121] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[136] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[151] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[166] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[181] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[196] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[211] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[226] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[241] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[256] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[271] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[286] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[301] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[316] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[331] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[346] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[361] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[376] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[391] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[406] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[421] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[436] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[451] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[466] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[481] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[496] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[511] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[526] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[541] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[556] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[571] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[586] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[601] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[616] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[631] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[646] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[661] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[676] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[691] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[706] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[721] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[736] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[751] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[766] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[781] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[796] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[811] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[826] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE
[841] TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
<div id="load-panel-data" class="section level1">
<h1>Load panel data</h1>
<p>Here, we will download the panel information, which contains antibody-related metadata. However, for some datasets, the channel-order and the panel order do not match. For this, the channel-mass file is used to match panel information and image stack slices. This will be important later to set the <code>channelNames</code> of the <code>CytoImageList</code> objects.</p>
<pre class="r"><code># Import panel
url.panel &lt;- (&quot;https://data.mendeley.com/datasets/cydmwsfztj/2/files/2f9fecfc-b98f-4937-bc38-ae1b959bd74d/Panel.csv?dl=1&quot;)
download.file(url.panel, destfile = &quot;data/PancreasData/panel.csv&quot;)
panel &lt;- read.csv(&quot;data/PancreasData/panel.csv&quot;)

# Import channel-mass file
url.channelmass &lt;- (&quot;https://data.mendeley.com/datasets/cydmwsfztj/2/files/704312eb-377c-42e2-8227-44bb9aca0fb3/ChannelMass.csv?dl=1&quot;)
download.file(url.channelmass, destfile = &quot;data/PancreasData/ChannelMass.csv&quot;)
channel.mass &lt;- read.csv(&quot;data/PancreasData/ChannelMass.csv&quot;, header = FALSE)</code></pre>
</div>
<div id="process-images-and-masks" class="section level1">
<h1>Process images and masks</h1>
<p>We will now have to process the images to make them compatible with <code>cytomapper</code>. The masks are 16-bit images and need to be re-scaled in order to obtain integer cell IDs.</p>
<pre class="r"><code># Before scaling
masks[[1]]</code></pre>
<pre><code>Image 
  colorMode    : Grayscale 
  storage.mode : double 
  dim          : 794 655 
  frames.total : 1 
  frames.render: 1 

imageData(object)[1:5,1:6]
     [,1] [,2] [,3] [,4]         [,5]         [,6]
[1,]    0    0    0    0 0.0008850233 0.0008850233
[2,]    0    0    0    0 0.0008850233 0.0008850233
[3,]    0    0    0    0 0.0008850233 0.0008850233
[4,]    0    0    0    0 0.0008850233 0.0008850233
[5,]    0    0    0    0 0.0008850233 0.0008850233</code></pre>
<pre class="r"><code>masks &lt;- scaleImages(masks, value = (2 ^ 16) - 1)

# After scaling
masks[[1]]</code></pre>
<pre><code>Image 
  colorMode    : Grayscale 
  storage.mode : double 
  dim          : 794 655 
  frames.total : 1 
  frames.render: 1 

imageData(object)[1:5,1:6]
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]    0    0    0    0   58   58
[2,]    0    0    0    0   58   58
[3,]    0    0    0    0   58   58
[4,]    0    0    0    0   58   58
[5,]    0    0    0    0   58   58</code></pre>
<p>Next, we will add the <code>ImageName</code> to the images and masks objects. This information is stored in the metadata columns of the <code>CytoImageList</code> objects and is used by <code>cytomapper</code> to match single cell data, images and mask</p>
<pre class="r"><code>mcols(images)$ImageName &lt;- gsub(&quot;_a0_full_clean&quot;, &quot;&quot;, names(images))
mcols(masks)$ImageName &lt;- gsub(&quot;_a0_full_mask&quot;, &quot;&quot;, names(masks))</code></pre>
<p>We downloaded the full set of segmentation masks. To match the segmentation masks to the corresponding images, we will subset them. As a safty check, we will make sure that the <code>ImageName</code>s of the masks are identical to those of the images.</p>
<pre class="r"><code>masks &lt;- masks[mcols(masks)$ImageName %in% mcols(images)$ImageName]
identical(mcols(masks)$ImageName, mcols(images)$ImageName)</code></pre>
<pre><code>[1] TRUE</code></pre>
<p>Finally, we will use the protein short name as <code>channelNames</code>. Again, we need to make sure that the names match the correct order of the channels.</p>
<pre class="r"><code># Match panel and stack slice information
panel &lt;- panel[panel$full == 1,]
panel &lt;- panel[match(channel.mass[,1], panel$MetalTag),]

# Add channel names to the  image stacks CytoImageList object
channelNames(images) &lt;- panel$shortname</code></pre>
</div>
<div id="save-the-cytoimagelist-objects" class="section level1">
<h1>Save the CytoImageList objects</h1>
<p>Here, we will save the generated <code>CytoImageList</code> objects for convenient access later on.</p>
<pre class="r"><code>saveRDS(images, &quot;data/PancreasData/pancreas_images.rds&quot;)
saveRDS(masks, &quot;data/PancreasData/pancreas_masks.rds&quot;)</code></pre>
</div>
<div id="clean-up" class="section level1">
<h1>Clean up</h1>
<p>We will delete all unecessary files.</p>
<pre class="r"><code>file.remove(&quot;data/PancreasData/panel.csv&quot;, &quot;data/PancreasData/ChannelMass.csv&quot;)</code></pre>
<pre><code>[1] TRUE TRUE</code></pre>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.0.0 (2020-04-24)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Catalina 10.15.5

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] parallel  stats4    stats     graphics  grDevices utils     datasets 
[8] methods   base     

other attached packages:
 [1] cytomapper_1.1.1            SingleCellExperiment_1.10.1
 [3] SummarizedExperiment_1.18.1 DelayedArray_0.14.0        
 [5] matrixStats_0.56.0          Biobase_2.48.0             
 [7] GenomicRanges_1.40.0        GenomeInfoDb_1.24.2        
 [9] IRanges_2.22.2              S4Vectors_0.26.1           
[11] BiocGenerics_0.34.0         EBImage_4.30.0             
[13] workflowr_1.6.2            

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.4.6           locfit_1.5-9.4         lattice_0.20-41       
 [4] fftwtools_0.9-8        png_0.1-7              rprojroot_1.3-2       
 [7] digest_0.6.25          R6_2.4.1               tiff_0.1-5            
[10] backports_1.1.7        evaluate_0.14          ggplot2_3.3.1         
[13] pillar_1.4.4           zlibbioc_1.34.0        rlang_0.4.6           
[16] whisker_0.4            raster_3.1-5           Matrix_1.2-18         
[19] rmarkdown_2.2          stringr_1.4.0          htmlwidgets_1.5.1     
[22] RCurl_1.98-1.2         munsell_0.5.0          compiler_4.0.0        
[25] httpuv_1.5.4           xfun_0.14              pkgconfig_2.0.3       
[28] htmltools_0.4.0        tidyselect_1.1.0       gridExtra_2.3         
[31] tibble_3.0.1           GenomeInfoDbData_1.2.3 codetools_0.2-16      
[34] viridisLite_0.3.0      dplyr_1.0.0            crayon_1.3.4          
[37] later_1.1.0.1          bitops_1.0-6           grid_4.0.0            
[40] gtable_0.3.0           lifecycle_0.2.0        git2r_0.27.1          
[43] magrittr_1.5           scales_1.1.1           stringi_1.4.6         
[46] XVector_0.28.0         viridis_0.5.1          fs_1.4.1              
[49] promises_1.1.1         sp_1.4-2               generics_0.0.2        
[52] ellipsis_0.3.1         vctrs_0.3.1            RColorBrewer_1.1-2    
[55] tools_4.0.0            glue_1.4.1             purrr_0.3.4           
[58] jpeg_0.1-8.1           abind_1.4-5            yaml_2.2.1            
[61] colorspace_1.4-1       knitr_1.28            </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
